{"version":3,"file":"index.js","sources":["../../../../../../node_modules/@formatjs/fast-memoize/index.js"],"sourcesContent":["export function memoize(fn, options) {\n\tconst cache = options && options.cache ? options.cache : cacheDefault;\n\tconst serializer = options && options.serializer ? options.serializer : serializerDefault;\n\tconst strategy = options && options.strategy ? options.strategy : strategyDefault;\n\treturn strategy(fn, {\n\t\tcache,\n\t\tserializer\n\t});\n}\n//\n// Strategy\n//\nfunction isPrimitive(value) {\n\treturn value == null || typeof value === \"number\" || typeof value === \"boolean\";\n}\nfunction monadic(fn, cache, serializer, arg) {\n\tconst cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n\tlet computedValue = cache.get(cacheKey);\n\tif (typeof computedValue === \"undefined\") {\n\t\tcomputedValue = fn.call(this, arg);\n\t\tcache.set(cacheKey, computedValue);\n\t}\n\treturn computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n\tconst args = Array.prototype.slice.call(arguments, 3);\n\tconst cacheKey = serializer(args);\n\tlet computedValue = cache.get(cacheKey);\n\tif (typeof computedValue === \"undefined\") {\n\t\tcomputedValue = fn.apply(this, args);\n\t\tcache.set(cacheKey, computedValue);\n\t}\n\treturn computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n\treturn strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n\tconst strategy = fn.length === 1 ? monadic : variadic;\n\treturn assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction strategyVariadic(fn, options) {\n\treturn assemble(fn, this, variadic, options.cache.create(), options.serializer);\n}\nfunction strategyMonadic(fn, options) {\n\treturn assemble(fn, this, monadic, options.cache.create(), options.serializer);\n}\n//\n// Serializer\n//\nconst serializerDefault = function() {\n\treturn JSON.stringify(arguments);\n};\n//\n// Cache\n//\nclass ObjectWithoutPrototypeCache {\n\tcache;\n\tconstructor() {\n\t\tthis.cache = Object.create(null);\n\t}\n\tget(key) {\n\t\treturn this.cache[key];\n\t}\n\tset(key, value) {\n\t\tthis.cache[key] = value;\n\t}\n}\nconst cacheDefault = { create: function create() {\n\treturn new ObjectWithoutPrototypeCache();\n} };\nexport const strategies = {\n\tvariadic: strategyVariadic,\n\tmonadic: strategyMonadic\n};\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}