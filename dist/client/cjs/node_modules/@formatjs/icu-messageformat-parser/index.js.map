{"version":3,"file":"index.js","sources":["../../../../../../node_modules/@formatjs/icu-messageformat-parser/index.js"],"sourcesContent":["import { ErrorKind } from \"./error.js\";\nimport { Parser } from \"./parser.js\";\nimport { isDateElement, isDateTimeSkeleton, isNumberElement, isNumberSkeleton, isPluralElement, isSelectElement, isTagElement, isTimeElement } from \"./types.js\";\nfunction pruneLocation(els) {\n\tels.forEach((el) => {\n\t\tdelete el.location;\n\t\tif (isSelectElement(el) || isPluralElement(el)) {\n\t\t\tfor (const k in el.options) {\n\t\t\t\tdelete el.options[k].location;\n\t\t\t\tpruneLocation(el.options[k].value);\n\t\t\t}\n\t\t} else if (isNumberElement(el) && isNumberSkeleton(el.style)) {\n\t\t\tdelete el.style.location;\n\t\t} else if ((isDateElement(el) || isTimeElement(el)) && isDateTimeSkeleton(el.style)) {\n\t\t\tdelete el.style.location;\n\t\t} else if (isTagElement(el)) {\n\t\t\tpruneLocation(el.children);\n\t\t}\n\t});\n}\nexport function parse(message, opts = {}) {\n\topts = {\n\t\tshouldParseSkeletons: true,\n\t\trequiresOtherClause: true,\n\t\t...opts\n\t};\n\tconst result = new Parser(message, opts).parse();\n\tif (result.err) {\n\t\tconst error = SyntaxError(ErrorKind[result.err.kind]);\n\t\t// @ts-expect-error Assign to error object\n\t\terror.location = result.err.location;\n\t\t// @ts-expect-error Assign to error object\n\t\terror.originalMessage = result.err.message;\n\t\tthrow error;\n\t}\n\tif (!opts?.captureLocation) {\n\t\tpruneLocation(result.val);\n\t}\n\treturn result.val;\n}\nexport * from \"./types.js\";\n// only for testing\nexport const _Parser = Parser;\nexport { isStructurallySame } from \"./manipulator.js\";\n"],"names":[],"mappings":";;;;;AAGA,SAAS,aAAa,CAAC,GAAG,EAAE;AAC5B,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK;AACrB,EAAE,OAAO,EAAE,CAAC,QAAQ;AACpB,EAAE,IAAI,eAAe,CAAC,EAAE,CAAC,IAAI,eAAe,CAAC,EAAE,CAAC,EAAE;AAClD,GAAG,KAAK,MAAM,CAAC,IAAI,EAAE,CAAC,OAAO,EAAE;AAC/B,IAAI,OAAO,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ;AACjC,IAAI,aAAa,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;AACtC,GAAG;AACH,EAAE,CAAC,MAAM,IAAI,eAAe,CAAC,EAAE,CAAC,IAAI,gBAAgB,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE;AAChE,GAAG,OAAO,EAAE,CAAC,KAAK,CAAC,QAAQ;AAC3B,EAAE,CAAC,MAAM,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,IAAI,aAAa,CAAC,EAAE,CAAC,KAAK,kBAAkB,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE;AACvF,GAAG,OAAO,EAAE,CAAC,KAAK,CAAC,QAAQ;AAC3B,EAAE,CAAC,MAAM,IAAI,YAAY,CAAC,EAAE,CAAC,EAAE;AAC/B,GAAG,aAAa,CAAC,EAAE,CAAC,QAAQ,CAAC;AAC7B,EAAE;AACF,CAAC,CAAC,CAAC;AACH;AACO,SAAS,KAAK,CAAC,OAAO,EAAE,IAAI,GAAG,EAAE,EAAE;AAC1C,CAAC,IAAI,GAAG;AACR,EAAE,oBAAoB,EAAE,IAAI;AAC5B,EAAE,mBAAmB,EAAE,IAAI;AAC3B,EAAE,GAAG;AACL,EAAE;AACF,CAAC,MAAM,MAAM,GAAG,IAAI,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,KAAK,EAAE;AACjD,CAAC,IAAI,MAAM,CAAC,GAAG,EAAE;AACjB,EAAE,MAAM,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AACvD;AACA,EAAE,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,QAAQ;AACtC;AACA,EAAE,KAAK,CAAC,eAAe,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO;AAC5C,EAAE,MAAM,KAAK;AACb,CAAC;AACD,CAAC,IAAI,CAAC,IAAI,EAAE,eAAe,EAAE;AAC7B,EAAE,aAAa,CAAC,MAAM,CAAC,GAAG,CAAC;AAC3B,CAAC;AACD,CAAC,OAAO,MAAM,CAAC,GAAG;AAClB;;;;","x_google_ignoreList":[0]}